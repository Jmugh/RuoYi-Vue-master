<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.IDnumMapper">

    <resultMap type="com.ruoyi.system.domain.IDnum" id="IDnumResult">
        <id     property="id"      column="id"      />
        <result property="name"    column="name"    />
        <result property="sex"     column="sex"     />
        <result property="age"   column="age"   />
        <result property="phoneNum"    column="phone_num"    />
        <result property="idNum"      column="id_num"      />
        <result property="registerCount"    column="register_count"    />
    </resultMap>

    <!-- 查询条件 -->
    <sql id="whereSearch">
        <where>
            <if test="id !=null">
            and id = #{id}
            </if>
            <if test="name !=null and name != ''">
                and name like %#{name}%
            </if>
            <if test="sex !=null and sex != ''">
                and sex like %#{sex}%
            </if>
            <if test="age !=null and age != ''">
                and age = #{age}
            </if>
            <if test="phoneNum !=null and phoneNum != ''">
                and phone_num = #{phoneNum}
            </if>
            <if test="idNum !=null and idNum != ''">
                and id_num = #{idNum}
            </if>
            <if test="registerCount !=null and registerCount != ''">
                and register_count = #{registerCount}
            </if>
        </where>
    </sql>

    <sql id="selectIDnum">
       select
       id, name, sex, age, phone_num, id_num, register_count
		from idnum
    </sql>


    <select id="selectAccessibleIDnum"  resultMap="IDnumResult">
        <include refid="selectIDnum"/>
        order by register_count asc limit 10
    </select>

</mapper>
